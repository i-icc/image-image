<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>PNGpng - アプリダウンロード</title>
  <link rel="stylesheet" href="styles.css">
  <script>
    let releasesData = null;

    async function loadReleases() {
      try {
        const response = await fetch('releases.json');
        releasesData = await response.json();
        updateVersionSelect();
        updateDownloadLink();
      } catch (error) {
        console.error('リリースデータの読み込みに失敗しました:', error);
      }
    }

    function updateVersionSelect() {
      const select = document.getElementById('version-select');
      select.innerHTML = '';
      
      releasesData.releases.forEach(release => {
        const option = document.createElement('option');
        option.value = release.version;
        option.textContent = `v${release.version}${release.isLatest ? '（最新）' : ''}`;
        select.appendChild(option);
      });
    }

    function updateDownloadLink() {
      const version = document.getElementById('version-select').value;
      const link = document.getElementById('download-link');
      link.href = `assets/pkg/macos/PNGpng_${version}.dmg`;
      link.textContent = `Mac版ダウンロード（v${version}）`;
    }

    window.addEventListener('DOMContentLoaded', loadReleases);
  </script>
</head>
<body>
  <div class="language-switcher">
    <a href="index.html" class="lang-btn active">日本語</a>
    <a href="en.html" class="lang-btn">English</a>
  </div>
  <div class="appstore-header">
    <img src="assets/images/app_icon_512.png" alt="PNGpng アイコン" class="appstore-icon">
    <div class="appstore-meta">
      <h1 class="appstore-title">PNGpng</h1>
      <p class="appstore-author">by <a href="https://i-icc.github.io/#/" target="_blank">i-icc/某猫</a></p>
      <div class="appstore-download-block">
        <select id="version-select" class="version-select" onchange="updateDownloadLink();">
          <option value="0.1.2">v0.1.2（最新）</option>
          <option value="0.1.1">v0.1.1</option>
          <option value="0.1.0">v0.1.0</option>
        </select>
        <a id="download-link" class="appstore-download-btn" href="assets/pkg/macos/PNGpng_0.1.2.dmg">Mac版ダウンロード</a>
      </div>
    </div>
  </div>
  <div class="appstore-screenshots">
    <img src="assets/images/page1.png" alt="スクリーンショット1" class="appstore-screenshot">
    <img src="assets/images/page2.png" alt="スクリーンショット2" class="appstore-screenshot">
    <img src="assets/images/page3.png" alt="スクリーンショット3" class="appstore-screenshot">
  </div>
  <div class="appstore-description">
    <h2>アプリ概要</h2>
    <p>PNGpngは、画像を簡単に比較・圧縮できるFlutter製デスクトップアプリです。ドラッグ＆ドロップで画像を追加し、複数画像の圧縮や比較が直感的に行えます。画像管理やファイルサイズ削減に最適です。</p>
    <p></p>
    <p>今まで使用させていただいていた画像圧縮ソフトが現在のOSで使用できなかったため同じようなソフトを作成させていただきました。</p>
    <p><a href="https://nukesaq88.github.io/Pngyu/ja.html">Pngyu</a>、今までお世話になりました。</p>
    <h3>主な機能</h3>
    <ul>
      <li>画像のドラッグ＆ドロップ追加</li>
      <li>複数画像の一括圧縮</li>
      <li>圧縮設定のカスタマイズ</li>
      <li>画像のプレビュー＆比較</li>
    </ul>
    <div>
      <a href="https://qiita.com/portfoliokns3/items/f6d4d15c3f8c54fdac8d">ダウンロードしても実行できない場合はこちらを参考に対応してください</a>
    </div>
  </div>
  <div class="appstore-release-notes">
    <h3>リリースノート</h3>
    <div class="release-info">
      <p class="release-summary">2025-07-08 v0.1.2 - 透明度を保持した減色処理を追加。減色なしオプションの追加。</p>
      <p class="release-summary">2025-07-07 v0.1.1 - アプリ名の変更 IMAGEimage -> PNGpng</p>
      <p class="release-summary">2025-07-06 v0.1.0 - IMAGEimageの初回リリース。基本的な複数画像の一括圧縮を提供。macOSのみ対応。</p>
    </div>
  </div>
  <div class="appstore-license">
    <h3>ライセンス</h3>
    <p>PNGpng is Free Software released under the WTFPL License.</p>
  </div>
  <div class="appstore-contact">
    <h3>お問合せ</h3>
    <p>意見や要望がございましたら、<a href="https://i-icc.github.io/#/about" target="_blank">こちら</a>までお気軽にお問合せください。</p>
  </div>
  <footer>
    <p>&copy; 2025 i-icc/某猫</p>
  </footer>
</body>
</html> 